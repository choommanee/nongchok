# Import News Content - คู่มือการใช้งาน

## ภาพรวม
สคริปต์สำหรับ import ข่าวสารใหม่เกี่ยวกับการส่งออก Ayam Bangkok และเพิ่มลิงก์ข่าวจากสื่อมวลชนภายนอก

## ไฟล์ที่สร้าง

### 1. import-news-content.php
- Import ข่าวสารหลัก 5 รายการ
- สร้าง news categories อัตโนมัติ
- ตั้งค่า highlight สำหรับข่าวเด่น
- เพิ่ม external links

### 2. add-external-news-links.php
- เพิ่มลิงก์ข่าวจากสื่อมวลชน
- เพิ่มลิงก์จาก social media
- สร้างโพสต์ที่ลิงก์ไปยังแหล่งข่าวต้นฉบับ

## วิธีการใช้งาน

### ขั้นตอนที่ 1: Import ข่าวสารหลัก

1. เปิดเบราว์เซอร์และไปที่:
   ```
   http://your-domain.com/import-news-content.php
   ```

2. ถ้าต้องการลบข่าวเก่าก่อน import:
   ```
   http://your-domain.com/import-news-content.php?delete_old=1
   ```

3. รอจนกว่าสคริปต์จะทำงานเสร็จ

4. คลิก "ดูข่าวสารทั้งหมด" เพื่อตรวจสอบ

### ขั้นตอนที่ 2: เพิ่มลิงก์ข่าวภายนอก

1. เปิดเบราว์เซอร์และไปที่:
   ```
   http://your-domain.com/add-external-news-links.php
   ```

2. รอจนกว่าสคริปต์จะทำงานเสร็จ

3. ตรวจสอบข่าวที่เพิ่มใน WordPress Admin

## ข่าวที่จะถูก Import

### ข่าวหลัก (5 รายการ)

1. **ส่งออกไก่พื้นเมืองไทย Ayam Bangkok ไปอินโดนีเซีย มูลค่า 4 ล้านบาท**
   - Category: ข่าวส่งออก, ความสำเร็จ
   - Highlight: ✓
   - วันที่: 15 ม.ค. 2024

2. **ปศุสัตว์ปลื้ม! ดันส่งออก Ayam Bangkok ไทยแลนด์สู่อินโดนีเซีย**
   - Category: สื่อมวลชน, ข่าวส่งออก
   - วันที่: 18 ม.ค. 2024

3. **ไก่ไทยสู่อินโดนีเซีย เปิดตลาดใหม่มูลค่าหลักร้อยล้าน**
   - Category: ข่าวส่งออก, ความสำเร็จ
   - วันที่: 20 ม.ค. 2024

4. **เกษตรกรไทยยิ้ม! ไก่พื้นเมืองราคาดีหลังเปิดตลาดส่งออก**
   - Category: ความสำเร็จ
   - วันที่: 25 ม.ค. 2024

5. **Ayam Bangkok ไทยแลนด์ ตีตลาดอินโดนีเซีย ด้วยคุณภาพระดับพรีเมียม**
   - Category: ข่าวส่งออก, สื่อมวลชน
   - วันที่: 1 ก.พ. 2024

### ลิงก์ข่าวภายนอก (8 รายการ)

#### จากสื่อมวลชน (6 รายการ)
1. ข่าวสด (Khaosod)
2. ประชาชาติธุรกิจ (Prachachat)
3. บ้านเมือง (Banmuang)
4. ไทยรัฐ (Thairath)
5. โพสต์ทูเดย์ (Post Today)
6. เดลินิวส์ (Daily News)

#### จาก Social Media (2 รายการ)
1. Facebook - Ayam Bangkok Thailand
2. Twitter - กรมปศุสัตว์

## Categories ที่สร้าง

1. **ข่าวส่งออก** (news-export)
   - ข่าวเกี่ยวกับการส่งออกไก่ชน

2. **ความสำเร็จ** (news-success)
   - ข่าวความสำเร็จและผลงาน

3. **สื่อมวลชน** (news-media)
   - ข่าวจากสื่อมวลชนและโซเชียลมีเดีย

4. **กิจกรรม** (news-activity)
   - ข่าวกิจกรรมต่างๆ

## Meta Fields ที่เพิ่ม

### สำหรับข่าวหลัก
- `news_highlight`: ข่าวเด่น (1 = ใช่, 0 = ไม่ใช่)
- `news_external_link`: ลิงก์ไปยังแหล่งข่าวต้นฉบับ

### สำหรับลิงก์ข่าวภายนอก
- `news_external_link`: URL ของข่าวต้นฉบับ
- `news_source`: ชื่อแหล่งข่าว
- `is_external_link`: ระบุว่าเป็นลิงก์ภายนอก (1)

## การปรับแต่ง

### เพิ่มข่าวใหม่
แก้ไขใน `import-news-content.php` array `$news_data`:

```php
array(
    'title' => 'ชื่อข่าว',
    'content' => '<p>เนื้อหาข่าว...</p>',
    'excerpt' => 'สรุปข่าว',
    'categories' => array('news-export', 'news-success'),
    'highlight' => true,
    'external_link' => 'https://...',
    'date' => '2024-01-15'
)
```

### เพิ่มลิงก์ข่าวภายนอก
แก้ไขใน `add-external-news-links.php` array `$external_links`:

```php
array(
    'title' => 'ชื่อข่าว',
    'source' => 'ชื่อสื่อ',
    'url' => 'https://...',
    'date' => '2024-01-15',
    'excerpt' => 'สรุปข่าว',
    'category' => 'news-media'
)
```

### เปลี่ยนวันที่
แก้ไข field `date` ในแต่ละข่าว (รูปแบบ: YYYY-MM-DD)

### เปลี่ยน Author
แก้ไข `'post_author' => 1` เป็น ID ของ author ที่ต้องการ

## ข้อควรระวัง

### ก่อน Import
1. **Backup Database**: สำรองข้อมูลก่อนทุกครั้ง
2. **ตรวจสอบ Categories**: ตรวจสอบว่า categories ถูกสร้างแล้ว
3. **ทดสอบบน Staging**: ทดสอบบน staging site ก่อน

### หลัง Import
1. **ตรวจสอบข่าว**: ตรวจสอบว่าข่าวถูก import ครบถ้วน
2. **ตรวจสอบ Categories**: ตรวจสอบว่า categories ถูกกำหนดถูกต้อง
3. **ตรวจสอบ Featured Image**: เพิ่มรูปภาพหลักให้กับข่าว
4. **ลบสคริปต์**: ลบไฟล์ import หลังใช้งานเสร็จ (เพื่อความปลอดภัย)

## การลบข่าวเก่า

ถ้าต้องการลบข่าวเก่าก่อน import ใหม่:

```
http://your-domain.com/import-news-content.php?delete_old=1
```

**คำเตือน**: การลบจะลบข่าวทั้งหมดอย่างถาวร ไม่สามารถกู้คืนได้!

## Troubleshooting

### ปัญหา: ไม่สามารถเข้าถึงสคริปต์
**แก้ไข**: ตรวจสอบว่าเป็น admin และ login แล้ว

### ปัญหา: Categories ไม่ถูกสร้าง
**แก้ไข**: ตรวจสอบ permissions ของ database

### ปัญหา: ข่าวไม่แสดง
**แก้ไข**: 
- ตรวจสอบ post_status เป็น 'publish'
- ตรวจสอบ permalink settings
- Flush rewrite rules

### ปัญหา: External links ไม่ทำงาน
**แก้ไข**: ตรวจสอบ URL encoding และ target="_blank"

## การเพิ่มรูปภาพ

หลังจาก import ข่าวแล้ว ควรเพิ่มรูปภาพหลัก (Featured Image):

1. ไปที่ WordPress Admin → ข่าวสาร
2. แก้ไขข่าวแต่ละรายการ
3. คลิก "Set featured image"
4. เลือกรูปภาพจาก Media Library หรืออัปโหลดใหม่
5. Update โพสต์

### แหล่งรูปภาพแนะนำ
- ใช้รูปจากโฟลเดอร์ "pic home"
- ใช้รูปไก่ชนคุณภาพสูง
- ใช้รูปการส่งออก/ขนส่ง
- ใช้รูปจากกิจกรรมจริง

## การใช้งานหลัง Import

### 1. ตรวจสอบและแก้ไข
- อ่านข่าวทุกรายการ
- แก้ไขเนื้อหาถ้าจำเป็น
- เพิ่มรูปภาพ
- ตรวจสอบ categories

### 2. เพิ่ม Gallery (ถ้ามี)
- แก้ไขข่าว
- เพิ่มรูปภาพใน ACF field "แกลเลอรี่ข่าว"

### 3. เพิ่ม Video (ถ้ามี)
- แก้ไขข่าว
- เพิ่ม YouTube URL ใน ACF field "วิดีโอประกอบ"

### 4. ตั้งค่า SEO
- เพิ่ม meta description
- เพิ่ม focus keyword
- ตรวจสอบ URL slug

## ความปลอดภัย

### หลังใช้งานเสร็จ
1. **ลบไฟล์ import**: ลบ `import-news-content.php` และ `add-external-news-links.php`
2. **เปลี่ยน permissions**: ถ้าไม่ลบ ให้เปลี่ยน permissions เป็น 000
3. **Backup**: สำรองข้อมูลหลัง import สำเร็จ

### การป้องกัน
- ไม่ควรเปิดเผย URL ของสคริปต์
- ใช้งานเฉพาะบน localhost หรือ staging
- เพิ่ม IP whitelist ถ้าจำเป็น

## สรุป

สคริปต์ import news content พร้อมใช้งานแล้ว! เพียงรันสคริปต์และตรวจสอบผลลัพธ์ จากนั้นเพิ่มรูปภาพและปรับแต่งเนื้อหาตามต้องการ

**อย่าลืม**: ลบไฟล์ import หลังใช้งานเสร็จเพื่อความปลอดภัย!
